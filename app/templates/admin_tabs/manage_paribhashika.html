<div class="paribhashika_manage_management p-3">
    <h3>Manage Paribhashika Padavivaranas</h3>

    <!-- Existing Padavivarana Management -->
    <div class="card mb-4">
        <div class="card-header">Edit / Delete Padavivarana</div>
        <div class="card-body">
            <!-- Cascading Dropdowns -->
            <div class="row mb-3 g-3">
                <div class="col-md-4">
                    <label class="form-label" for="paribhashika_manage_samputaSelect">Samputa</label>
                    <select id="paribhashika_manage_samputaSelect" class="form-select">
                        <option value="">-- Select Samputa --</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="paribhashika_manage_authorSelect">Author</label>
                    <select id="paribhashika_manage_authorSelect" class="form-select" disabled>
                        <option value="">-- Select Author --</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="paribhashika_manage_padavivaranaSelect">Padavivarana</label>
                    <select id="paribhashika_manage_padavivaranaSelect" class="form-select" disabled>
                        <option value="">-- Select Padavivarana --</option>
                    </select>
                </div>
            </div>

            <!-- Edit Form -->
            <form id="paribhashika_manage_form" style="display:none;">
                <input type="hidden" id="paribhashika_manage_padavivarana_id" />

                <div class="mb-3">
                    <label class="form-label" for="paribhashika_manage_padavivarana_title">Padavivarana Title</label>
                    <input type="text" id="paribhashika_manage_padavivarana_title" class="form-control" />
                </div>

                <div class="mb-3">
                    <label class="form-label" for="paribhashika_manage_padavivarana_content">Padavivarana
                        Content</label>
                    <textarea id="paribhashika_manage_padavivarana_content" class="form-control" rows="6"></textarea>
                </div>

                <button type="button" id="paribhashika_manage_saveBtn" class="btn btn-success">Update</button>
                <button type="button" id="paribhashika_manage_deleteBtn" class="btn btn-danger">Delete</button>
            </form>
        </div>
    </div>

    <!-- Add New Padavivarana -->
    <div class="card">
        <div class="card-header">Add New Padavivarana</div>
        <div class="card-body">
            <div class="row mb-3 g-3">
                <div class="col-md-4">
                    <label class="form-label" for="paribhashika_add_samputaSelect">Samputa</label>
                    <select id="paribhashika_add_samputaSelect" class="form-select">
                        <option value="">-- Select Samputa --</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="paribhashika_add_authorSelect">Author</label>
                    <select id="paribhashika_add_authorSelect" class="form-select" disabled>
                        <option value="">-- Select Author --</option>
                    </select>
                </div>
            </div>

            <form id="paribhashika_add_form" style="display:none;">
                <div class="mb-3">
                    <label class="form-label" for="paribhashika_add_padavivarana_title">Padavivarana Title</label>
                    <input type="text" id="paribhashika_add_padavivarana_title" class="form-control" />
                </div>

                <div class="mb-3">
                    <label class="form-label" for="paribhashika_add_padavivarana_content">Padavivarana Content</label>
                    <textarea id="paribhashika_add_padavivarana_content" class="form-control" rows="6"></textarea>
                </div>

                <button type="button" id="paribhashika_add_saveBtn" class="btn btn-primary">
                    Save New Padavivarana
                </button>
            </form>
        </div>
    </div>
</div>

<!-- Info Modal -->
<div class="modal fade" id="paribhashika_infoModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body" id="paribhashika_infoModalBody"></div>
            <div class="modal-footer">
                <button class="btn btn-primary" data-bs-dismiss="modal" type="button">OK</button>
            </div>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div class="modal fade" id="paribhashika_deleteModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Confirm Delete</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">Are you sure you want to delete this Padavivarana?</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" id="paribhashika_confirmDeleteBtn" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- CSV Bulk Upload -->
<div class="card mt-4">
    <div class="card-header">Bulk Upload Padavivaranas (CSV)</div>
    <div class="card-body">
        <form id="paribhashika_upload_form" enctype="multipart/form-data" novalidate>
            <div class="mb-3">
                <label for="paribhashika_csv" class="form-label">Choose CSV File</label>
                <!-- name="file" must match backend request.files["file"] -->
                <input type="file" id="paribhashika_csv" name="file" class="form-control" accept=".csv" required />
            </div>
            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">Upload CSV</button>
                <button type="button" id="paribhashika_download_template_btn" class="btn btn-secondary">
                    Download Template
                </button>
            </div>
        </form>

        <!-- Upload status messages -->
        <div id="paribhashika_upload_status" class="mt-3">
            <div id="paribhashika_upload_success" class="text-success" style="display:none;"></div>
            <div id="paribhashika_upload_error" class="text-danger" style="display:none;"></div>
            <ul id="paribhashika_upload_warnings" class="text-warning mt-2" style="display:none;"></ul>
        </div>
    </div>
</div>